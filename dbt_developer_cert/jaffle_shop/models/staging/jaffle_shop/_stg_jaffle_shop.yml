models:
  - name: stg_jaffle_shop__customers
    columns:
        - name: customer_id
          data_tests:
            - not_null
            - unique
        - name: first_name
        - name: last_name
  - name: stg_jaffle_shop__orders
    columns:
        - name: order_id
          data_tests:
            - not_null
            - unique
        - name: status
          data_tests:
            - accepted_values:
                arguments:
                  values: ['shipped', 'completed', 'placed', 'returned', 'return_pending']
        - name: customer_id
          data_tests:
            - not_null
            - relationships:
                arguments:
                  to: ref('stg_jaffle_shop__customers')
                  field: customer_id